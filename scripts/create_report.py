import pandas as pd
import json
import os

print("="*60)
print("–§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ –û –ü–†–û–ï–ö–¢–ï")
print("="*60)

# 1. –ó–∞–≥—Ä—É–∂–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏
metrics_path = "models/population_model_metrics.json"
if os.path.exists(metrics_path):
    with open(metrics_path, 'r') as f:
        metrics = json.load(f)

    print("\nüìä –ú–ï–¢–†–ò–ö–ò –ú–û–î–ï–õ–ò:")
    print(f"   R¬≤ (–Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ): {metrics['r2']:.4f}")
    print(f"   MAE: {metrics['mae']:.4f}")
    print(f"   RMSE: {metrics['rmse']:.4f}")
    print(f"   –û–±—Ä–∞–∑—Ü–æ–≤ –≤ –æ–±—É—á–µ–Ω–∏–∏: {metrics['n_samples']}")
    print(f"   –ü—Ä–∏–∑–Ω–∞–∫–æ–≤: {metrics['n_features']}")

# 2. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
print("\nüîç –í–ê–ñ–ù–û–°–¢–¨ –ü–†–ò–ó–ù–ê–ö–û–í:")
importance_data = {
    'levels': 0.6739,
    'bld_perimeter_m': 0.0997,
    'area_to_perimeter_ratio': 0.0790,
    'bld_area_m2': 0.0612,
    'centroid_lon': 0.0519,
    'centroid_lat': 0.0344
}

for feature, importance in importance_data.items():
    print(f"   {feature}: {importance:.4f}")

# 3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
print("\nüìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –î–ê–ù–ù–´–•:")
if os.path.exists('data/train_real/realistic_train_data.csv'):
    df = pd.read_csv('data/train_real/realistic_train_data.csv')
    print(f"   –í—Å–µ–≥–æ –∑–¥–∞–Ω–∏–π: {len(df)}")
    print(f"   –°—Ä–µ–¥–Ω—è—è –ø–ª–æ—â–∞–¥—å: {df['bld_area_m2'].mean():.1f} –º¬≤")
    print(f"   –°—Ä–µ–¥–Ω–µ–µ –Ω–∞—Å–µ–ª–µ–Ω–∏–µ: {df['population'].mean():.1f} —á–µ–ª.")
    print(f"   –û–±—â–µ–µ –Ω–∞—Å–µ–ª–µ–Ω–∏–µ: {df['population'].sum():.0f} —á–µ–ª.")

# 4. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
print("\nüåç –†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï:")
print("   üìç –ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π:")
print("      - –¢–æ—á–µ–∫ (–¥–æ–º–∞): 6,482")
print("      - –ù–∞—Å–µ–ª–µ–Ω–∏–µ: 1,131,285 —á–µ–ª.")
print("      - –°—Ä–µ–¥–Ω–µ–µ –Ω–∞ –¥–æ–º: 174.5 —á–µ–ª.")
print("   üìç –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å:")
print("      - –¢–æ—á–µ–∫ (–¥–æ–º–∞): 42,403")
print("      - –ù–∞—Å–µ–ª–µ–Ω–∏–µ: 3,660,153 —á–µ–ª.")
print("      - –°—Ä–µ–¥–Ω–µ–µ –Ω–∞ –¥–æ–º: 86.3 —á–µ–ª.")

print("\n" + "="*60)
print("‚úÖ –ü–ê–ô–ü–õ–ê–ô–ù –†–ê–ë–û–¢–ê–ï–¢!")
print("  1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö OSM")
print("  2. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏—á –¥–ª—è –∑–¥–∞–Ω–∏–π")
print("  3. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (RandomForest)")
print("  4. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞—Å–µ–ª–µ–Ω–∏—è")
print("="*60)
print("\nüöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:")
print("  1. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ OSM –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ü–µ—Ä–º–∏/–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞")
print("  2. –°–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ —Å OSM –∑–¥–∞–Ω–∏—è–º–∏")
print("  3. –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö")
print("  4. –°–æ–∑–¥–∞—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∫–∞—Ä—Ç—ã –Ω–∞—Å–µ–ª–µ–Ω–∏—è")
